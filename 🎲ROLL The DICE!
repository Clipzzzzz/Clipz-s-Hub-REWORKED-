local COREGUI = game:GetService("CoreGui")
local UIS = game:GetService('UserInputService')

local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()


local Window = Rayfield:CreateWindow({
	Name = "Project Clipz",
	LoadingTitle = "Project Clipz | ROLL The DICE",
	LoadingSubtitle = "By Clipz",
	ConfigurationSaving = {
		Enabled = true,
		FolderName = "Project C",
		FileName = "Clipzs Hub"
	},
	KeySystem = true, -- Set this to true to use their key system
	KeySettings = {
		Title = "Project Clipz | RTD",
		Subtitle = "Key System",
		Note = "Join the discord (https://dsc.gg/clipzshub)",
		SaveKey = true,
		Key = "ProjectClipzW"
	}
})

Rayfield:Notify("Project Clipz Loading!", "", "13858115678") -- Notfication -- Title, Content, Image

local Tab = Window:CreateTab("Featured", "10002492915") -- Title, Image
local Tab2 = Window:CreateTab("Upgrades", "2245714200") -- Title, Image

local Section = Tab:CreateSection("Automatic")

-- local Button = Tab:CreateButton({
--	Name = "Button Example",
--	Callback = function()
-- The function that takes place when the button is pressed
--	end,
-- })



--[[         BELOW IS THE DRAG FUNCTION.            ]]
------------------------------------------------------
local rayfield = COREGUI:WaitForChild("Rayfield")

local frame = rayfield.Main
local dragToggle = nil
local dragSpeed = 0.25
local dragStart = nil
local startPos = nil

local function updateInput(input)
	local delta = input.Position - dragStart
	local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
		startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	game:GetService('TweenService'):Create(frame, TweenInfo.new(dragSpeed), {Position = position}):Play()
end

frame.InputBegan:Connect(function(input)
	if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) then 
		dragToggle = true
		dragStart = input.Position
		startPos = frame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragToggle = false
			end
		end)
	end
end)

UIS.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		if dragToggle then
			updateInput(input)
		end
	end
end)
